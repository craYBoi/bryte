{% extends "base.html" %}
{% load staticfiles %}

{% block content %}
	
<h1 class="text-center bold large_padding">Photoshoot CMS</h1>

<div class="medium_padding"></div>

{% for shoot in shoots %}
<div class="row">
	<div class="col-xs-8 col-xs-offset-1 border">
		<div class="page-header">
			<h3>{{ shoot.name }}</h3> 
			<div class="sm_padding"></div>
			{% if shoot.active %}
				<span class="label label-success">active</span>
			{% else %}
				<span class="label label-danger">inactive</span>
			{% endif %}
		</div>

		<div class="row">

			<div class="col-xs-4">
				<div class="border all_sm_padding">
				<h4 class="bold">Booking Analytics</h4>
				<hr>
				<p># of booking: {{ shoot.get_total_booking_num }}</p>
				<p># of showups: 
				{% if shoot.active %}
					N.A
				{% else %}
					{{ shoot.get_total_showup_num }}	
				{% endif %}</p>
				<p>Attendance rate: 
				{% if shoot.active %}
					N.A
				{% else %}
					{{ shoot.get_showup_rate }}	
				{% endif %}</p>
				</div>
			</div>
			<div class="col-xs-4">
				<div class="border all_sm_padding">
				<h4 class="bold">Revenue Analytics</h4>
				<hr>
				<p>Total revenue: 
				{% if shoot.active %}
					N.A
				{% else %}
					${{ shoot.calculate_total_rev }}
				{% endif %}
				<p>Average spending/person: 
				{% if shoot.active %}
					N.A
				{% else %}
					${{ shoot.revenue_per_user }}	
				{% endif %}</p>
				</p>
				<p>Max order: 
				{% if shoot.active %}
					N.A
				{% else %}
					${{ shoot.get_max_order }}	
				{% endif %}</p>
				</p>
				</div>
			</div>

			<div class="col-xs-4">
				<div class="border all_sm_padding">
				<h4 class="bold">Customer Types Analytics</h4>
				<hr>
				<p># of Exclusive Member: 
				{% if shoot.active %}
					N.A
				{% else %}
					${{ shoot.get_total_exclusive_num }}
				{% endif %}
				<p># of Paid Client: 
				{% if shoot.active %}
					N.A
				{% else %}
					${{ shoot.get_total_paid_num }}	
				{% endif %}</p>
				</p>
				<p># of Free Client: 
				{% if shoot.active %}
					N.A
				{% else %}
					${{ shoot.get_total_free_num }}	
				{% endif %}</p>
				</p>
				<p># of No Download Client: 
				{% if shoot.active %}
					N.A
				{% else %}
					${{ shoot.get_total_no_download_num }}	
				{% endif %}</p>
				</p>
				</div>
			</div>
		</div>

		<div class="medium_padding"></div>

	</div>

	<div class="col-xs-2">
		<div class="border all_sm_padding">

			<h4 class="bold">Actions</h4>
			<hr>

			<form action="" method="POST">
				<input type="hidden" value="{{ shoot.pk }}">
				<button type="submit" class="btn btn-default">Send Reminder Email</button>
			</form>

			<div class="sm_padding"></div>
			
			<form action="" method="POST">
				<input type="hidden" value="{{ shoot.pk }}">
				<button type="submit" class="btn btn-default">Send First Followup Email</button>
			</form>

			<div class="sm_padding"></div>

			<form action="" method="POST">
				<input type="hidden" value="{{ shoot.pk }}">
				<button type="submit" class="btn btn-default">Send Upsell Email</button>
			</form>

			<div class="sm_padding"></div>

			<form action="" method="POST">
				<input type="hidden" value="{{ shoot.pk }}">
				<button type="submit" class="btn btn-default">Send No Download 1 Email</button>
			</form>

			<div class="sm_padding"></div>

			<form action="" method="POST">
				<input type="hidden" value="{{ shoot.pk }}">
				<button type="submit" class="btn btn-default">Send No Download 2 Email</button>
			</form>

			<div class="sm_padding"></div>

			<form action="" method="POST">
				<input type="hidden" value="{{ shoot.pk }}">
				<button type="submit" class="btn btn-default">Send No Download 3 Email</button>
			</form>
		</div>
	</div>
</div>
<div class="medium_margin"></div>
{% endfor %}


{% endblock %}